<% content_for :title, @article.title %>
<% content_for :description, @article.excerpt(length: 160) %>

<article class="container my-5">
  <div class="row">
    <div class="col-lg-8 mx-auto">
      <div class="mb-4">
        <%= link_to "← Back to blog", blog_path, class: "text-decoration-none text-muted" %>
      </div>

      <header class="mb-4">
        <h1 class="fw-bold mb-3"><%= @article.title %></h1>
        <div class="d-flex justify-content-between align-items-center">
          <div class="text-muted">
            <time datetime="<%= @article.published_at.iso8601 %>">
              <%= @article.published_at.strftime("%B %-d, %Y at %-I:%M %p") %>
            </time>
          </div>
          <% if logged_in? %>
            <%= link_to "Edit", edit_admin_article_path(@article), class: "btn btn-sm btn-outline-secondary" %>
          <% end %>
        </div>
      </header>

      <div class="article-content mb-4">
        <%= @article.body %>
      </div>

      <% if @article.tags.any? %>
        <footer class="border-top pt-4">
          <div class="d-flex align-items-center gap-2 flex-wrap">
            <span class="text-muted">Tagged:</span>
            <% @article.tags.each do |tag| %>
              <%= link_to tag.name, blog_path(tag: tag.name), class: "badge bg-light text-dark text-decoration-none border" %>
            <% end %>
          </div>
        </footer>
      <% end %>
    </div>
  </div>
</article>
